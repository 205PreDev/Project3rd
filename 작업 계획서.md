# AI 기반 e-커머스 상품 이미지 및 광고 문구 자동 생성 서비스

## 📋 프로젝트 개요

### 서비스 개요
소규모 e-커머스 판매자들이 상품 사진 한 장만으로 전문가 수준의 상품 상세 페이지 이미지와 설득력 있는 광고 문구를 생성할 수 있도록 돕는 AI 기반 서비스

### 팀 구성
- **3인 협업 프로젝트**
- 역할 분담 (예시):
  - Person A: Backend + AI/ML 파이프라인
  - Person B: Frontend + UI/UX
  - Person C: AI 모델 통합 + DevOps

---

## 🎯 MVP (최소 기능 제품) 핵심 기능

### 1. 이미지 처리
- ✅ 상품 이미지 업로드 (JPG, PNG)
- ✅ AI 배경 제거 (자동)
- ✅ 배경 합성 (3-5가지 프리셋 스타일)
  - 예: "깔끔한 흰색", "고급 대리석", "자연광 느낌", "파스텔 그라데이션"
- ✅ 이미지 다운로드 (네이버 쇼핑, 쿠팡 규격)

### 2. 광고 문구 생성
- ✅ 상품명, 키워드 입력
- ✅ 타겟층 선택 (2-3가지)
  - 20대 여성, 30대 직장인, 40대 주부
- ✅ AI 광고 문구 생성 (3가지 버전)
  - SNS 광고용 (짧고 임팩트)
  - 상품 상세 설명용 (중간 길이)
  - 스토리텔링형 (긴 형식)

### 3. 사용자 시스템
- ✅ 회원가입/로그인 (이메일 기반)
- ✅ 크레딧 기반 결제
  - 이미지 생성: 1크레딧
  - 문구 생성: 0.5크레딧
- ✅ 간단한 사용자 대시보드
  - 크레딧 잔액 확인
  - 생성 히스토리

### 4. 무료 상업용 이미지 소스 활용
- **Unsplash API**: 고품질 무료 이미지
- **Pexels API**: 다양한 카테고리 무료 이미지
- **Pixabay API**: 상업적 사용 가능 이미지
- 배경 생성 시 위 API에서 이미지를 가져와 합성하여 **AI 생성 비용 절감**

---

## 🛠 기술 스택

### 💡 비용 최적화 버전 (MVP 추천) ⭐

**초기 투자 최소화, 빠른 검증에 집중**

#### Backend
```yaml
언어: Python 3.11+
프레임워크: FastAPI
비동기 작업: FastAPI BackgroundTasks (내장, 무료)
데이터베이스:
  - 개발: SQLite (로컬)
  - 프로덕션: PostgreSQL (Supabase 무료 티어)
ORM: SQLAlchemy 2.0
인증: FastAPI-Users (오픈소스, 무료)
파일 업로드: python-multipart
검증: Pydantic V2
```

**비용:** $0 (추가 서비스 없음)

---

#### Frontend
```yaml
프레임워크: React 18 + TypeScript + Vite
스타일링:
  - TailwindCSS
  - shadcn/ui (무료 컴포넌트)
상태관리:
  - TanStack Query (서버 상태)
  - Context API (로컬 상태)
HTTP: fetch (내장)
폼: React Hook Form + Zod
라우팅: React Router v6
```

**비용:** $0 (모두 오픈소스)

---

#### AI/ML
```yaml
배경 제거: Rembg (오픈소스)
이미지 처리: Pillow (오픈소스)
광고 문구: OpenAI GPT-4o-mini
이미지 소스: Unsplash API (무료 50,000회/월)
```

**비용:** 월 $10-30 (GPT-4o-mini만 유료)

---

#### Infrastructure
```yaml
Backend: Render Web Service ($7/월 또는 무료 티어)
Database + Storage: Supabase (무료 500MB DB + 1GB Storage)
Frontend: Render Static Site (무료)
CI/CD: GitHub Actions (무료 2,000분/월)
모니터링: Sentry (무료 5,000 이벤트/월)
```

**총 예상 비용:**
- 개발: $0-10/월
- 런칭: $10-40/월
- 트래픽 증가 시: $50-100/월

---

### 💰 프리미엄 버전 (수익 안정 후)

**월 매출 500만원 이상 또는 사용자 1,000명+ 달성 시 고려**

#### Backend 업그레이드
```yaml
비동기 작업: Celery + Redis (복잡한 작업 큐 관리)
  - 비용: +$10-20/월 (Redis)
  - 장점:
    - 작업 재시도, 스케줄링
    - 여러 워커 분산 처리
    - 실패 작업 모니터링

캐싱: Redis (응답 속도 향상)
  - 비용: +$10/월
  - 장점: API 응답 시간 50% 단축
```

---

#### AI/ML 업그레이드
```yaml
광고 문구:
  - 기본: GPT-4o-mini (현행 유지)
  - 프리미엄 기능: GPT-4 Turbo (+$100-300/월)
  - 사용자가 선택 가능 (추가 크레딧)

이미지 처리:
  - OpenCV 추가 (고급 이미지 합성)
  - Real-ESRGAN (AI 업스케일링)
  - ControlNet (정밀한 배경 제어)

비용: +$50-100/월 (GPU 인스턴스 필요 시)
```

---

#### Infrastructure 업그레이드
```yaml
호스팅: AWS/GCP로 마이그레이션
  - EC2/Compute Engine: $50-200/월
  - Load Balancer: $20/월
  - 장점: 완전한 커스터마이징, 고성능

스토리지: AWS S3 + CloudFront (CDN)
  - S3: $10-50/월
  - CloudFront: $20-100/월
  - 장점: 글로벌 배포, 빠른 이미지 로딩

데이터베이스: RDS PostgreSQL
  - 비용: $50-200/월
  - 장점: 자동 백업, 고가용성

메시지 큐: AWS SQS 또는 Redis
  - 비용: $10-30/월

모니터링: DataDog, New Relic
  - 비용: $30-100/월
  - 장점: 고급 성능 분석, 알림
```

**총 예상 비용:** $200-700/월

---

### 📊 비용 비교표

| 항목 | 최적화 버전 | 프리미엄 버전 | 차이 |
|------|------------|--------------|------|
| **Backend 호스팅** | Render $7-25/월 | AWS EC2 $50-200/월 | 7-8배 |
| **Database** | Supabase 무료-$25 | RDS $50-200/월 | 2-8배 |
| **Storage** | Supabase 무료-$10 | S3+CDN $30-150/월 | 3-15배 |
| **AI API** | GPT-4o-mini $10-30 | GPT-4 $100-300/월 | 10배 |
| **메시지 큐** | BackgroundTasks $0 | Celery+Redis $10-20/월 | - |
| **모니터링** | Sentry 무료 | DataDog $30-100/월 | - |
| **총 비용** | **$10-40/월** | **$200-700/월** | **20배** |

---

### 🎯 업그레이드 전환 시점

#### Phase 1 → Phase 2 (최적화 → 프리미엄)

**전환 조건:**
```
다음 중 2개 이상 충족 시:
✅ 월 매출 500만원 이상
✅ 월간 활성 사용자 1,000명 이상
✅ 일일 이미지 생성 500건 이상
✅ 성능 병목 발생 (처리 시간 1분 이상)
✅ 사용자 불만 증가 (응답 속도 관련)
```

**우선 업그레이드 대상:**
1. **AI 모델** (GPT-4 프리미엄 옵션 추가) → 수익 직결
2. **캐싱** (Redis) → 사용자 경험 개선
3. **메시지 큐** (Celery) → 안정성 향상
4. **호스팅** (AWS/GCP) → 마지막 단계

---

### 💡 하이브리드 전략 (추천)

**비용 최적화 + 부분 프리미엄**

```yaml
Backend: Render (유지)
Database: Supabase (유지)
Frontend: Vercel (무료 → $20/월, 성능 좋음)

AI 모델:
  - 기본: GPT-4o-mini (대부분 사용자)
  - 프리미엄: GPT-4 Turbo (유료 구독자만)
  - 비용: $30-80/월 (비율에 따라)

캐싱: Upstash Redis (서버리스 Redis)
  - 비용: 무료 티어 → $10/월
  - 장점: 사용한 만큼만 결제

총 비용: $40-110/월
```

**ROI:** 최적화 버전 대비 2-3배 비용으로 3-5배 성능 향상

---

### 개발 도구

```yaml
API 문서: Swagger UI (FastAPI 자동 생성)
API 테스트: Thunder Client (VSCode) 또는 Postman
DB 관리:
  - DBeaver (로컬)
  - Supabase Dashboard (프로덕션)
코드 품질:
  - Backend: Black (포매터), Ruff (린터)
  - Frontend: Prettier, ESLint
타입 체크: mypy (Python), TypeScript
테스팅:
  - Backend: pytest, pytest-asyncio
  - Frontend: Vitest, React Testing Library
```

---

## 🔄 기술 스택 변경 사항 요약

### 제거/간소화
- ❌ **Celery + Redis** → ✅ FastAPI BackgroundTasks (MVP 단계)
- ❌ **Zustand** → ✅ Context API (간단한 로컬 상태)
- ❌ **Axios** → ✅ fetch/ky (경량화)
- ❌ **AWS S3** → ✅ Supabase Storage (비용 절감)

### 추가
- ✅ **shadcn/ui**: UI 개발 속도 향상
- ✅ **React Hook Form + Zod**: 폼 관리 최적화
- ✅ **FastAPI-Users**: 인증 시간 절약
- ✅ **Vite**: 빠른 개발 환경
- ✅ **GPT-4o-mini**: 비용 90% 절감

### 변경
- 🔄 **OpenCV → Pillow 우선**: 간단한 합성은 Pillow로 충분
- 🔄 **GPT-4 Turbo → GPT-4o-mini**: MVP는 저렴한 모델
- 🔄 **AWS → Render + Supabase**: 관리형 서비스로 전환

---

## 📦 주요 패키지 목록

### Backend (requirements.txt)
```txt
fastapi[all]==0.109.0
uvicorn[standard]==0.27.0
sqlalchemy==2.0.25
alembic==1.13.1
fastapi-users[sqlalchemy]==12.1.3
python-multipart==0.0.6
pydantic==2.5.3
pydantic-settings==2.1.0
pillow==10.2.0
rembg==2.0.56
openai==1.10.0
httpx==0.26.0
python-jose[cryptography]==3.3.0
passlib[bcrypt]==1.7.4
pytest==7.4.4
pytest-asyncio==0.23.3
```

### Frontend (package.json)
```json
{
  "dependencies": {
    "react": "^18.2.0",
    "react-dom": "^18.2.0",
    "react-router-dom": "^6.21.0",
    "@tanstack/react-query": "^5.17.0",
    "react-hook-form": "^7.49.0",
    "zod": "^3.22.4",
    "ky": "^1.1.3"
  },
  "devDependencies": {
    "@vitejs/plugin-react": "^4.2.1",
    "vite": "^5.0.10",
    "typescript": "^5.3.3",
    "tailwindcss": "^3.4.1",
    "autoprefixer": "^10.4.16",
    "eslint": "^8.56.0",
    "prettier": "^3.1.1",
    "vitest": "^1.1.0"
  }
}
```

---

## 🌿 Git 브랜치 전략 (GitHub Flow 기반)

### 브랜치 구조
```
main (프로덕션)
  └── develop (개발 통합)
       ├── feature/기능명-이슈번호
       ├── bugfix/버그명-이슈번호
       └── hotfix/긴급수정명
```

### 브랜치 명명 규칙
```bash
# 기능 개발
feature/image-upload-#12
feature/ai-text-generation-#15

# 버그 수정
bugfix/login-error-#23

# 긴급 수정 (프로덕션)
hotfix/payment-critical-#45
```

### 브랜치 운영 규칙

1. **main 브랜치**
   - 항상 배포 가능한 상태 유지
   - 직접 커밋 금지 (PR만 허용)
   - 태그로 버전 관리 (v1.0.0)

2. **develop 브랜치**
   - 개발 중인 기능 통합
   - main으로 정기적으로 병합

3. **feature 브랜치**
   - develop에서 분기
   - 기능 완성 후 develop으로 PR
   - 리뷰 승인 후 병합, 병합 후 브랜치 삭제

4. **Pull Request 규칙**
   - 최소 1명 이상의 리뷰어 승인 필요
   - CI/CD 테스트 통과 필수
   - Squash Merge 사용 (커밋 히스토리 정리)

---

## 🤝 협업 전략

### 0. 병렬 작업 + 협업 집중 전략 ⭐

**핵심 원칙: "초안 먼저, 협업은 병목에 집중"**

#### Phase 1: 병렬 개발 (각자 초안 작성)
각 팀원이 맡은 영역의 **기본 구조와 핵심 기능**을 독립적으로 개발합니다.

```
Week 1-4: 독립 작업 기간
├── Person A: Backend API 골격 + 기본 CRUD
├── Person B: Frontend 컴포넌트 구조 + 라우팅
└── Person C: AI 스크립트 프로토타입 + Docker 환경

목표: 50-60% 완성도
- 동작하는 최소한의 기능
- 인터페이스 정의 (API 스펙, 컴포넌트 props)
- 기본 에러 핸들링
```

**작업 규칙:**
- 각자 `feature/본인이름-영역` 브랜치에서 작업
- 매일 간단한 진행 상황 공유 (Discord/Slack)
- **블로커 발생 시 즉시 공유** → 협업 대상으로 전환

#### Phase 2: 진척도 체크 & 협업 집중 대상 선정

**Week 4 중간 점검 회의**
```markdown
각자 작업 현황 공유:
1. 완료된 부분 (예: 70%)
2. 진행 중인 부분 (예: 20%)
3. 🚨 진척도 낮은 부분 (예: 10% - 블로커 있음)

진척도 기준:
- 🟢 80% 이상: 독립 진행 가능
- 🟡 50-80%: 가벼운 리뷰 필요
- 🔴 50% 미만: 협업 집중 대상
```

**협업 집중 대상 판단 기준:**
- 기술적 난이도가 높아 혼자 해결 어려운 부분
- 여러 영역이 통합되는 인터페이스 (API ↔ Frontend, AI ↔ Backend)
- 성능 이슈나 복잡한 버그
- 팀원 간 의견이 필요한 아키텍처 결정

#### Phase 3: 협업 집중 (Pair/Mob Programming)

**협업 방식 선택:**

**A. Pair Programming (2인)**
```
상황: 특정 기능의 난이도가 높을 때
예: AI 이미지 합성 로직 + Backend 통합
방법:
- Person C (AI) + Person A (Backend)
- 1시간 단위로 드라이버(코딩)/내비게이터(리뷰) 교체
- Discord 화면 공유
```

**B. Mob Programming (3인)**
```
상황: 핵심 통합 지점이나 아키텍처 결정
예: Frontend ↔ Backend API 연동 규격 설계
방법:
- 전체 팀원 참여
- 한 명이 코딩, 나머지는 실시간 리뷰/제안
- 2시간 집중 세션
```

**C. Code Review + 후속 세션**
```
상황: 복잡한 PR 리뷰 후 개선 필요
예: Person B의 React 상태 관리 로직이 복잡
방법:
- 먼저 PR 코멘트로 피드백
- 필요시 30분 화면 공유 리팩토링 세션
```

#### 협업 집중 예상 영역

**🔴 High Priority (필수 협업)**
1. **AI ↔ Backend 통합**
   - Celery 비동기 작업 처리
   - 이미지 S3 업로드 플로우
   - Person A + Person C (Week 6)

2. **Backend ↔ Frontend API 연동**
   - RESTful API 규격 최종 확정
   - 에러 응답 형식 통일
   - Person A + Person B (Week 8)

3. **결제 시스템 통합**
   - 토스페이먼츠 연동
   - 크레딧 차감 로직
   - 전체 (Week 10)

**🟡 Medium Priority (선택적 협업)**
1. **이미지 합성 품질 개선**
   - OpenCV 파라미터 튜닝
   - Person C 주도, 필요시 전체 리뷰

2. **프론트엔드 성능 최적화**
   - React Query 캐싱 전략
   - Person B 주도, 필요시 Person A 리뷰

#### 협업 스케줄 예시

```markdown
Week 6: AI-Backend 통합 집중 주간
- 화요일 19:00-21:00: Pair Programming (Person A + C)
- 목요일 19:00-20:00: 진행 상황 리뷰 (전체)

Week 8: Frontend-Backend 연동 주간
- 월요일 19:00-21:00: API 스펙 확정 회의 (전체)
- 수요일 19:00-21:00: Pair Programming (Person A + B)
- 금요일 19:00: E2E 테스트 실행 (전체)
```

#### 진척도 추적 도구

**GitHub Projects (칸반 보드)**
```
Columns:
- 📝 Backlog
- 🏃 In Progress (진행률 표시)
- 🚨 Blocked (협업 필요)
- 👀 Review
- ✅ Done

각 카드에 진척도 표시:
[Backend API] 회원가입 엔드포인트 (70%) - Person A
[AI] 배경 제거 스크립트 (30% 🚨) - Person C
```

**주간 진척도 리포트**
```markdown
## Week 5 진척도 리포트

### Person A (Backend) - 전체 75%
✅ 완료: 인증 API, 이미지 업로드 엔드포인트
🏃 진행중: 크레딧 시스템 (60%)
🚨 블로커: Celery 설정 이슈 (20%) → Week 6 협업 예정

### Person B (Frontend) - 전체 80%
✅ 완료: 메인 페이지, 로그인/회원가입
🏃 진행중: 대시보드 (70%)

### Person C (AI) - 전체 55%
✅ 완료: 배경 제거 프로토타입
🚨 블로커: S3 연동 및 비동기 처리 (30%) → Week 6 협업 예정
```

---

### 1. 커밋 메시지 컨벤션 (Conventional Commits)

```bash
# 형식
<type>(<scope>): <subject>

# 타입
feat: 새로운 기능 추가
fix: 버그 수정
docs: 문서 수정
style: 코드 포맷팅 (기능 변경 없음)
refactor: 코드 리팩토링
test: 테스트 코드 추가
chore: 빌드, 설정 파일 수정

# 예시
feat(backend): 이미지 업로드 API 구현 #12
fix(frontend): 로그인 폼 validation 오류 수정 #23
docs(readme): 설치 가이드 추가
```

### 2. 이슈 관리 (GitHub Issues)

**이슈 템플릿**
```markdown
## 📝 작업 내용
- [ ] 구현할 기능 설명

## ✅ 완료 조건
- [ ] 조건 1
- [ ] 조건 2

## 🔗 관련 이슈
- #이슈번호

## 👥 담당자
@username
```

**라벨 시스템**
```
Priority: 🔴 High, 🟡 Medium, 🟢 Low
Type: feature, bug, docs, refactor
Status: todo, in-progress, review, done
Area: backend, frontend, ai, devops
```

### 3. PR (Pull Request) 템플릿

```markdown
## 🎯 작업 내용
- 구현한 기능 요약

## 🔗 관련 이슈
Closes #이슈번호

## ✅ 체크리스트
- [ ] 로컬 테스트 완료
- [ ] 코드 린트 통과
- [ ] 문서 업데이트 완료

## 📸 스크린샷 (UI 변경 시)
(이미지 첨부)

## 💬 리뷰어에게
- 특별히 검토 요청하는 부분
```

### 4. 코드 리뷰 가이드

**리뷰어 체크리스트**
- [ ] 코드가 요구사항을 충족하는가?
- [ ] 네이밍이 명확한가?
- [ ] 중복 코드는 없는가?
- [ ] 에러 핸들링이 적절한가?
- [ ] 테스트 코드가 있는가?

**피드백 작성 규칙**
```markdown
# 좋은 예
💡 제안: 이 부분은 useCallback으로 최적화할 수 있을 것 같습니다.
❓ 질문: 이 API 호출이 실패하면 어떻게 처리되나요?
✅ 승인: LGTM! 깔끔한 구현입니다.

# 나쁜 예
❌ "이거 왜 이렇게 했어요?" (부정적)
❌ "다시 짜세요" (구체적이지 않음)
```

### 5. 일일 스탠드업 (선택 사항)

**형식 (Discord/Slack 메시지)**
```
📅 2025-10-17 스탠드업

👨 [이름]
✅ 어제: 이미지 업로드 API 완료
🎯 오늘: 배경 제거 로직 구현
🚧 블로커: OpenCV 라이브러리 설치 이슈
```

### 6. 주간 회의

**매주 월요일 오후 7시 (온라인)**
- 지난주 리뷰
- 이번주 목표
- 블로커 공유

---

## 📅 개발 일정 (12주 MVP)

**핵심 전략: Week 1-4 병렬 개발 → Week 5부터 협업 집중**

### Week 1-2: 프로젝트 세팅 & 기본 구조
```
담당자: 전체 (협업)
작업:
- [ ] 저장소 생성 및 브랜치 전략 수립
- [ ] 개발 환경 구축 (Docker, DB)
- [ ] CI/CD 파이프라인 구성
- [ ] 프로젝트 보일러플레이트 생성
- [ ] API 스펙 초안 작성 (OpenAPI/Swagger)
```

### Week 3-4: 병렬 개발 - 각자 초안 작성 (독립 작업)

**Person A: Backend 기본 구조** ✅ **완료 (2025-10-17)**
```
목표 진척도: 80% (목표 60% 초과 달성)
- [x] 사용자 인증 API (회원가입, 로그인, JWT) - FastAPI-Users 구현
- [x] 이미지 업로드 API (Supabase Storage 연동)
- [x] 크레딧 시스템 DB 모델 및 API 완성
- [x] 프로젝트 관리 API (CRUD)
- [x] 기본 에러 핸들링 (HTTPException)
- [x] Supabase Storage 서비스 구현
- [x] 크레딧 차감/환불 로직 구현
```

**구현 완료 내역:**
- ✅ User 모델 (credits 필드 포함)
- ✅ Project, Image 모델
- ✅ 인증 API (회원가입, 로그인, JWT, 비밀번호 재설정, 이메일 인증)
- ✅ 프로젝트 API (생성, 조회, 수정, 삭제)
- ✅ 이미지 API (업로드, 조회, 삭제)
- ✅ 크레딧 API (잔액 조회, 추가)
- ✅ Storage 서비스 (Supabase 연동)
- ✅ Credit 서비스 (차감, 추가, 환불)

**Person B: Frontend 기본 구조**
```
목표 진척도: 60%
- [ ] 라우팅 설정 (React Router)
- [ ] 로그인/회원가입 페이지
- [ ] 메인 페이지 레이아웃
- [ ] API 클라이언트 설정 (Axios + React Query)
```

**Person C: AI 프로토타입 + DevOps**
```
목표 진척도: 50%
- [ ] Rembg 배경 제거 스크립트 (로컬 테스트)
- [ ] Pillow 이미지 합성 프로토타입
- [ ] Docker Compose 환경 구축
- [ ] 무료 이미지 API 테스트 (Unsplash)
```

**Week 4 말: 중간 점검 회의 (필수)**
- 각자 진행 상황 공유
- 블로커 식별 및 협업 계획 수립

---

### Week 5-6: AI ↔ Backend 통합 (협업 집중 🔴)

**Person A + Person C (Pair Programming)**
```
작업:
- [ ] BackgroundTasks로 비동기 작업 처리 (Celery는 나중에)
- [ ] 이미지 처리 워크플로우 통합
  - 업로드 → Supabase Storage → BackgroundTask → 배경 제거 → 합성 → 저장
- [ ] 무료 이미지 API 연동 (Unsplash 우선)
- [ ] 이미지 리사이징 (네이버 쇼핑, 쿠팡 규격)

협업 스케줄:
- 화요일/목요일 19:00-21:00: Pair Programming
- 금요일 19:00: 전체 리뷰
```

**Person B: 독립 작업**
```
- [ ] 대시보드 UI 개발
- [ ] 이미지 업로드 컴포넌트
- [ ] 크레딧 표시 UI
```

---

### Week 7-8: AI 텍스트 생성 + Frontend-Backend 연동

**Person A: AI 텍스트 생성 (독립 작업)**
```
- [ ] OpenAI GPT-4o-mini API 통합
- [ ] 프롬프트 엔지니어링 (타겟층 2-3가지)
- [ ] 문구 생성 API 엔드포인트
- [ ] 크레딧 차감 로직 구현
```

**Person B + Person A: API 연동 (협업 집중 🔴)**
```
협업 작업:
- [ ] RESTful API 규격 최종 확정
- [ ] Frontend-Backend 통신 테스트
- [ ] 에러 응답 형식 통일
- [ ] 이미지 생성 플로우 E2E 연결
  - 업로드 → 처리 중 표시 → 완료 알림 → 다운로드

협업 스케줄:
- 월요일 19:00-21:00: API 스펙 확정 회의 (전체)
- 수요일/금요일 19:00-21:00: Pair Programming (A+B)
```

**Person C: 독립 작업**
```
- [ ] 이미지 합성 품질 개선
- [ ] 배경 스타일 추가 (3-5가지)
- [ ] 성능 최적화 (처리 시간 단축)
```

---

### Week 9-10: 프론트엔드 완성 + 결제 통합

**Person B: Frontend UI 완성 (독립 작업)**
```
- [ ] 결과 미리보기 페이지
- [ ] 이미지 다운로드 기능 (플랫폼별 규격 선택)
- [ ] 생성 히스토리 페이지
- [ ] 반응형 디자인 (모바일)
- [ ] 로딩 상태 UX 개선
```

**Person A + Person C: 결제 시스템 (협업 🔴)**
```
- [ ] 토스페이먼츠 연동
- [ ] 크레딧 구매 API
- [ ] 결제 성공/실패 처리
- [ ] 크레딧 차감 및 복구 로직

협업 스케줄:
- 화요일 19:00-21:00: 결제 플로우 설계 (전체)
- 목요일 19:00-20:00: 통합 테스트
```

---

### Week 11: 통합 테스트 & 버그 수정 (전체 협업)
```
담당자: 전체
작업:
- [ ] E2E 테스트 (핵심 시나리오만)
  - 회원가입 → 로그인 → 이미지 생성 → 다운로드
- [ ] 주요 버그 수정
- [ ] 기본 보안 점검 (SQL Injection, XSS)

협업 방식:
- 매일 19:00-21:00: 버그 해결 세션
- 우선순위 높은 버그부터 처리
```

---

### Week 12: 배포 & 문서화 (전체 협업)
```
담당자: 전체
작업:
- [ ] Render + Supabase 프로덕션 배포
- [ ] 도메인 연결 (선택 사항, 나중에 가능)
- [ ] Sentry 에러 모니터링 설정
- [ ] 간단한 사용자 가이드 작성
- [ ] API 문서 확인 (Swagger 자동 생성)
- [ ] README 작성
- [ ] 런칭 준비 (테스트 계정, 샘플 이미지 3-5개)

협업 방식:
- 월/화: 배포 작업
- 수/목: 문서화
- 금요일: 소프트 런칭 (친구/지인 초대)
```

---

### 📊 주간 진척도 체크포인트

| Week | 목표 진척도 | 체크 사항 | 실제 진척도 |
|------|------------|----------|------------|
| 2 | 30% | 개발 환경 완료, 보일러플레이트 동작 확인 | ✅ 35% 완료 |
| 4 | 50-60% | 각 영역 기본 기능 동작, 블로커 식별 | ✅ **Backend 80% 완료** (2025-10-17) |
| 6 | 70% | AI-Backend 통합 완료, 이미지 생성 가능 | - |
| 8 | 80% | Frontend 연동 완료, E2E 플로우 동작 | - |
| 10 | 90% | 결제 통합, 주요 기능 완성 | - |
| 12 | 100% | 배포 완료, 문서화 완료 | - |

---

## 🔌 구현된 Backend API 엔드포인트 (2025-10-17 기준)

### **인증 (Authentication)** - `/api/v1/auth/*`
```
✅ POST   /api/v1/auth/register              회원가입
✅ POST   /api/v1/auth/jwt/login             로그인 (JWT)
✅ POST   /api/v1/auth/jwt/logout            로그아웃
✅ POST   /api/v1/auth/forgot-password       비밀번호 찾기
✅ POST   /api/v1/auth/reset-password        비밀번호 재설정
✅ POST   /api/v1/auth/request-verify-token  이메일 인증 요청
✅ POST   /api/v1/auth/verify                이메일 인증 확인
✅ GET    /api/v1/auth/users/me              현재 사용자 정보
✅ PATCH  /api/v1/auth/users/me              사용자 정보 수정
✅ DELETE /api/v1/auth/users/me              회원 탈퇴
```

### **크레딧 (Credits)** - `/api/v1/credits/*`
```
✅ GET    /api/v1/credits/balance            크레딧 잔액 조회
✅ POST   /api/v1/credits/add                크레딧 추가 (결제 후)
```

### **프로젝트 (Projects)** - `/api/v1/projects/*`
```
✅ POST   /api/v1/projects/                  프로젝트 생성
✅ GET    /api/v1/projects/                  프로젝트 목록 조회
✅ GET    /api/v1/projects/{id}              프로젝트 상세 조회
✅ PATCH  /api/v1/projects/{id}              프로젝트 수정
✅ DELETE /api/v1/projects/{id}              프로젝트 삭제
```

### **이미지 (Images)** - `/api/v1/images/*`
```
✅ POST   /api/v1/images/upload              이미지 업로드 (자동 크레딧 차감)
✅ GET    /api/v1/images/                    이미지 목록 조회 (프로젝트별 필터)
✅ GET    /api/v1/images/{id}                이미지 상세 조회
✅ DELETE /api/v1/images/{id}                이미지 삭제
```

### **API 문서**
- Swagger UI: `http://localhost:8000/docs`
- ReDoc: `http://localhost:8000/redoc`
- OpenAPI JSON: `http://localhost:8000/api/v1/openapi.json`

---

## 📋 다음 작업 우선순위 (2025-10-17 기준)

### 🔥 High Priority - 다음 주 목표

**1. Backend - 환경 설정 및 서버 실행 테스트**
```bash
# 필요 작업:
- [ ] Python 가상환경 설정
- [ ] pip install -r backend/requirements.txt
- [ ] .env 파일 설정 (DATABASE_URL, SECRET_KEY, SUPABASE 설정)
- [ ] alembic upgrade head (DB 마이그레이션 적용)
- [ ] uvicorn app.main:app --reload (서버 실행)
- [ ] Swagger UI에서 API 테스트 (회원가입, 로그인, 프로젝트 생성)
```

**2. Frontend - 기본 구조 및 라우팅 설정**
```bash
- [ ] React Router 설정
- [ ] 로그인/회원가입 페이지 UI
- [ ] 메인 페이지 레이아웃
- [ ] API 클라이언트 설정 (fetch wrapper)
- [ ] TanStack Query 설정
- [ ] 기본 인증 플로우 구현
```

**3. AI/DevOps - Docker 환경 구축**
```bash
- [ ] Docker Compose 파일 검증
- [ ] Rembg 배경 제거 스크립트 프로토타입
- [ ] Unsplash API 테스트
```

### 🔶 Medium Priority - Week 5-6 목표

**AI 이미지 처리 서비스 구현**
```python
- [ ] services/image_processing_service.py 생성
- [ ] Rembg 배경 제거 기능
- [ ] Unsplash API로 배경 이미지 가져오기
- [ ] Pillow로 이미지 합성
- [ ] FastAPI BackgroundTasks로 비동기 처리
- [ ] 처리 완료 후 Image 모델 상태 업데이트
```

**AI 텍스트 생성 서비스 구현**
```python
- [ ] services/text_generation_service.py 생성
- [ ] OpenAI GPT-4o-mini API 연동
- [ ] 프롬프트 엔지니어링 (타겟층별)
- [ ] 3가지 버전 생성 (SNS용, 상세용, 스토리텔링용)
```

### 🔵 Low Priority - Week 7-8 목표

**결제 시스템**
```python
- [ ] 토스페이먼츠 연동
- [ ] 결제 웹훅 처리
- [ ] 크레딧 자동 충전
```

---

## 📂 프로젝트 디렉토리 구조

```
project-root/
├── backend/
│   ├── app/
│   │   ├── api/
│   │   │   ├── endpoints/
│   │   │   │   ├── auth.py
│   │   │   │   ├── images.py
│   │   │   │   └── text.py
│   │   │   └── deps.py
│   │   ├── core/
│   │   │   ├── config.py
│   │   │   └── security.py
│   │   ├── models/
│   │   ├── schemas/
│   │   ├── services/
│   │   │   ├── image_service.py
│   │   │   ├── text_service.py
│   │   │   └── credit_service.py
│   │   └── main.py
│   ├── tests/
│   ├── Dockerfile
│   └── requirements.txt
│
├── frontend/
│   ├── src/
│   │   ├── components/
│   │   ├── pages/
│   │   ├── hooks/
│   │   ├── services/
│   │   ├── store/
│   │   └── App.tsx
│   ├── public/
│   ├── package.json
│   └── Dockerfile
│
├── ai/
│   ├── models/
│   ├── scripts/
│   │   ├── background_removal.py
│   │   └── text_generation.py
│   └── requirements.txt
│
├── docker-compose.yml
├── .github/
│   └── workflows/
│       ├── backend-ci.yml
│       └── frontend-ci.yml
├── docs/
│   ├── API.md
│   └── USER_GUIDE.md
└── README.md
```

---

## 🔐 환경 변수 관리

### `.env.example` (버전 관리)
```bash
# Database (Supabase)
DATABASE_URL=postgresql://user:password@db.supabase.co:5432/dbname

# JWT
SECRET_KEY=your-secret-key-here
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30

# OpenAI
OPENAI_API_KEY=sk-your-key

# Image API
UNSPLASH_ACCESS_KEY=your-key

# Supabase Storage
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_KEY=your-anon-key
SUPABASE_BUCKET=images
```

### `.env` (로컬, .gitignore에 추가)
실제 키 값 사용

---

## 🧪 테스트 전략 (간소화)

### Backend (핵심만)
```bash
# 주요 API 엔드포인트 테스트만
pytest backend/tests/test_auth.py
pytest backend/tests/test_images.py
```

### Frontend (수동 테스트 우선)
```bash
# MVP 단계에서는 수동 테스트 중심
# E2E 자동화는 Post-MVP
```

**이유:** 12주 내 완성 목표이므로 테스트 자동화는 최소화

---

## 🚀 배포 전략 (간소화)

### 환경 구성
```
개발: 로컬 환경
프로덕션: Render + Supabase
```

### CI/CD (기본만)

```yaml
# .github/workflows/backend-ci.yml
name: Backend CI
on:
  pull_request:
    branches: [main]

jobs:
  lint:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - name: Lint check
        run: |
          pip install ruff
          ruff check backend/
```

**MVP 배포:** 수동 배포로 시작, 자동화는 나중에

---

## 💰 수익 모델 (MVP 단계)

### 크레딧 기반 결제
```
무료 체험: 10 크레딧
스타터 팩: 50 크레딧 - 9,900원
프로 팩: 200 크레딧 - 29,900원
비즈니스 팩: 500 크레딧 - 59,900원
```

### 결제 연동
- 초기: 토스페이먼츠 또는 아임포트
- 향후: Stripe (글로벌 확장 시)

---

## 📊 성공 지표 (KPI)

### MVP 단계
- [ ] 월간 활성 사용자 100명
- [ ] 이미지 생성 성공률 95% 이상
- [ ] 평균 처리 시간 30초 이하
- [ ] 사용자 만족도 4.0/5.0 이상

---

## 🔄 향후 확장 계획 (Post-MVP)

### Phase 2 (3-6개월)
- 다양한 템플릿 추가
- A/B 테스팅 기능
- 동영상 생성 (짧은 프로모션)

### Phase 3 (6-12개월)
- 타겟 확장 (글로벌 셀러)
- 다국어 지원
- 엔터프라이즈 기능

---

## 📞 커뮤니케이션 채널

- **코드 리뷰**: GitHub PR
- **일일 업데이트**: Discord/Slack
- **주간 회의**: Zoom/Google Meet
- **문서 공유**: Notion/Confluence
- **디자인**: Figma

---

## 🛡️ 보안 & 개인정보 (MVP 필수)

### 데이터 보호
```yaml
이미지 저장 정책:
  - 생성 후 24시간 자동 삭제 (MVP)
  - 사용자 요청 시 즉시 삭제
  - Supabase Storage 암호화 사용

개인정보:
  - 최소 수집 (이메일, 비밀번호만)
  - 비밀번호 bcrypt 해싱
  - 결제 정보는 토스페이먼츠가 관리
```

### 기본 보안
- SQL Injection: SQLAlchemy ORM 자동 방어
- XSS: FastAPI + React 기본 방어
- CORS: 프로덕션 도메인만 허용

### 법적 문서 (필수)
- 이용약관 (간단 버전)
- 개인정보 처리방침
- 생성 이미지 저작권: "사용자 소유"

---

## 🎯 사용자 온보딩 (MVP)

### 첫 방문 플로우
```
1. 샘플 결과물 보여주기 (3-5개)
2. 무료 회원가입 (10 크레딧 제공)
3. 간단 튜토리얼 (3단계)
4. 첫 결과물 다운로드
```

**구현:** react-joyride 또는 간단 모달

---

## ⚠️ 에러 처리 & 복구

### AI 생성 실패 시
```python
try:
    result = remove_background(image)
except:
    user.credits += 1  # 즉시 환불
    return {"error": "처리 실패, 크레딧 환불"}
```

### 크레딧 환불 정책
- 자동 환불: AI 실패, 시스템 오류
- 수동 환불: 품질 불만족 (1회 한정)

---

## 📈 초기 마케팅 (Post-MVP)

### 베타 테스터 모집
- 타겟: 스마트스토어, 쇼핑몰 카페
- 혜택: 평생 50% 할인

---

## 📚 참고 자료

### API 문서
- [Unsplash API](https://unsplash.com/developers)
- [OpenAI API](https://platform.openai.com/docs)
- [FastAPI 문서](https://fastapi.tiangolo.com/)

### 라이브러리
- [Rembg](https://github.com/danielgatis/rembg)
- [shadcn/ui](https://ui.shadcn.com/)
- [TanStack Query](https://tanstack.com/query/latest)

---

**작성일**: 2025-10-17
**버전**: 1.1
**최종 수정**: 2025-10-17
**작성자**: 팀 전체
