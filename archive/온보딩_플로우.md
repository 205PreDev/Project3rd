# 온보딩 플로우 설계서

> ✅ **최신 버전**: 이 문서는 개선사항이 반영된 최신 버전입니다.
>
> 주요 개선사항 (2025-10-24 반영):
> - **Unsplash API 배경 이미지**: Redis + Supabase 캐싱 전략
> - **AI 프롬프트 편집 기능**: Pillow MVP → DALL-E
> - **프롬프트 남용 방지**: 일일 10회, 시간당 3회 제한
> - **신규 기능 개선**: 실용성 중심 (일괄 다운로드, 플랫폼 프리셋)
> - **Sticky CTA**: 우측 고정 가입 유도 버튼
>
> 상세 구현 스펙은 **`온보딩_플로우_개선사항.md`** 참조

## 📋 목차
1. [온보딩 목표 및 KPI](#1-온보딩-목표-및-kpi)
2. [전체 플로우 다이어그램](#2-전체-플로우-다이어그램)
3. [단계별 상세 플로우](#3-단계별-상세-플로우)
4. [화면별 와이어프레임](#4-화면별-와이어프레임)
5. [사용자 시나리오](#5-사용자-시나리오)
6. [기술 구현 명세](#6-기술-구현-명세)
7. [측정 지표](#7-측정-지표)

---

## 1. 온보딩 목표 및 KPI

### 핵심 목표
```yaml
비즈니스 목표:
  - 방문자 → 가입자 전환율: 24% 이상 (업계 평균 5-10%)
  - 가입 후 첫 이미지 생성: 80% 이상
  - 온보딩 완료 후 유료 전환: 15% 이상

사용자 경험 목표:
  - 첫 결과물까지 소요 시간: 2분 이내
  - 튜토리얼 완료율: 70% 이상
  - 온보딩 이탈률: 30% 이하

Aha Moment:
  - "내 상품이 전문가 수준 이미지로 변신!"
  - 도달 시간: 회원가입 후 3분 이내
```

### 측정 지표 (KPI)

| 지표 | 목표값 | 측정 방법 |
|------|--------|----------|
| **Trial Start Rate** | 60% | 랜딩 방문자 중 체험 시작 비율 |
| **Signup Conversion** | 40% | 체험 사용자 중 회원가입 비율 |
| **Activation Rate** | 80% | 가입 후 첫 프로젝트 생성 비율 |
| **Time to First Value** | <120초 | 첫 결과물 생성까지 시간 |
| **Tutorial Completion** | 70% | 3단계 튜토리얼 완료율 |
| **Overall Conversion** | 19.2% | 전체 퍼널 전환율 (60% × 40% × 80%) |

---

## 2. 전체 플로우 다이어그램

```
┌─────────────────────────────────────────────────────────────────────────┐
│                          온보딩 전체 플로우                              │
└─────────────────────────────────────────────────────────────────────────┘

┌──────────────┐
│  랜딩 페이지   │ ← SEO, 광고, SNS 유입
│   (미가입)    │
└───────┬──────┘
        │
        │ 60% 전환 목표
        ↓
┌──────────────┐
│  즉시 체험    │ ← 회원가입 없이 샘플 이미지 처리
│ (워터마크)    │    Before/After 확인
└───────┬──────┘
        │
        │ 40% 전환 목표
        ↓
┌──────────────┐
│  회원가입     │ ← 이메일 또는 소셜 로그인
│ +10 크레딧   │    신용카드 필요 없음
└───────┬──────┘
        │
        │ 80% 전환 목표
        ↓
┌──────────────┐
│ 3단계 튜토리얼│ ← 인터랙티브 가이드
│ (첫 프로젝트) │    실제 작업하며 학습
└───────┬──────┘
        │
        │ 90% 전환 목표
        ↓
┌──────────────┐
│  첫 다운로드  │ ← Aha Moment 달성
│  (성공!)     │    축하 화면 + 다음 단계 제안
└───────┬──────┘
        │
        ↓
┌──────────────┐
│ 지속 참여 유도│ ← 체크리스트, 보너스 크레딧
│ (Retention)  │    새 기능 소개, 업그레이드 제안
└──────────────┘
```

---

## 3. 단계별 상세 플로우

### Stage 1: 랜딩 페이지 (미가입 상태)

#### 목표
- 3초 내 가치 제안 전달
- 60% 이상 체험 시작 유도

#### 화면 구성

```
┌────────────────────────────────────────────────────────────────┐
│  [로고]                              [로그인] [무료 시작하기]  │
├────────────────────────────────────────────────────────────────┤
│                                                                │
│              상품 사진 1장을 광고 이미지로                      │
│      배경 제거 + 전문 배경 합성 + AI 광고 문구까지 1분 완성     │
│                                                                │
│   ┌──────────────────────────────────────────────────┐        │
│   │  Before/After 슬라이더 (메인 비주얼)              │        │
│   │                                                  │        │
│   │  [←────────○────────→]                          │        │
│   │                                                  │        │
│   │  좌측: 평범한 운동화 사진                         │        │
│   │  우측: 고급 대리석 배경 + AI 광고 문구           │        │
│   └──────────────────────────────────────────────────┘        │
│                                                                │
│         [무료로 시작하기 - 회원가입 없이 체험]                  │
│              신용카드 필요 없음 • 30초 만에 완성               │
│                                                                │
├────────────────────────────────────────────────────────────────┤
│  📊 2,143명 사용 중  |  ⭐ 4.8/5.0  |  ⏱️ 평균 30초 완성        │
├────────────────────────────────────────────────────────────────┤
│                                                                │
│                   실제 제작 사례                                │
│                                                                │
│   ┌─────────┐  ┌─────────┐  ┌─────────┐  ┌─────────┐        │
│   │ Before  │  │ Before  │  │ Before  │  │ Before  │        │
│   │   ↓     │  │   ↓     │  │   ↓     │  │   ↓     │        │
│   │ After   │  │ After   │  │ After   │  │ After   │        │
│   │운동화   │  │시계     │  │가방     │  │화장품   │        │
│   └─────────┘  └─────────┘  └─────────┘  └─────────┘        │
│                                                                │
│              [샘플로 즉시 체험해보기] ←──────────────────┐     │
│                                                          │     │
└──────────────────────────────────────────────────────────┴─────┘
                                                           │
                                                           │
                                                           ↓
                                                    Stage 2로 이동
```

#### 사용자 액션

```javascript
// 액션 1: 샘플 이미지 클릭
onClick_SampleImage: () => {
  trackEvent('landing_sample_clicked', { imageId: 'shoes' });

  // 미리 준비된 결과물로 즉시 이동 (처리 시간 없음)
  showPreprocessedResult({
    original: '/samples/shoes-before.jpg',
    processed: '/samples/shoes-after.jpg',
    caption: 'AI 생성 광고 문구...',
    watermark: true
  });

  // Stage 2로 전환
  navigate('/trial-result');
}

// 액션 2: "무료로 시작하기" 버튼
onClick_StartTrial: () => {
  trackEvent('landing_cta_clicked');

  // 이미지 업로드 화면으로 이동
  navigate('/trial-upload');
}
```

#### 성공 기준
- ✅ 페이지 로드 후 3초 내 이탈률 < 40%
- ✅ 샘플 이미지 클릭률 > 30%
- ✅ CTA 클릭률 > 60%

---

### Stage 2: 즉시 체험 (회원가입 전)

#### 목표
- Aha Moment 제공 (품질 확인)
- 40% 이상 회원가입 유도

#### Flow 2-1: 이미지 업로드

```
┌────────────────────────────────────────────────────────────────┐
│  [뒤로가기]              즉시 체험                      [건너뛰기]│
├────────────────────────────────────────────────────────────────┤
│                                                                │
│                  📸 상품 사진을 올려주세요                      │
│                 (회원가입 없이 바로 체험!)                      │
│                                                                │
│   ┌──────────────────────────────────────────────────┐        │
│   │                                                  │        │
│   │         드래그 앤 드롭 또는 클릭하여 업로드        │        │
│   │                                                  │        │
│   │              📁 파일 선택하기                     │        │
│   │                                                  │        │
│   │   지원 형식: JPG, PNG (최대 10MB)                 │        │
│   └──────────────────────────────────────────────────┘        │
│                                                                │
│              또는 샘플 이미지로 체험하기                        │
│                                                                │
│   ┌─────────┐  ┌─────────┐  ┌─────────┐                      │
│   │ 운동화   │  │ 시계    │  │ 가방    │                      │
│   │[선택]   │  │[선택]   │  │[선택]   │                      │
│   └─────────┘  └─────────┘  └─────────┘                      │
│                                                                │
└────────────────────────────────────────────────────────────────┘
```

#### Flow 2-2: 처리 중 (재미있게!)

```
┌────────────────────────────────────────────────────────────────┐
│                    이미지 생성 중...                            │
├────────────────────────────────────────────────────────────────┤
│                                                                │
│              [Lottie 애니메이션: 배경 제거 중]                  │
│                                                                │
│   ┌──────────────────────────────────────────────────┐        │
│   │  ✅ 배경 제거 완료 (2초)                          │        │
│   │  🎨 전문 배경 합성 중... (5초)                    │        │
│   │  ✍️ AI 광고 문구 생성 대기 (3초)                  │        │
│   └──────────────────────────────────────────────────┘        │
│                                                                │
│              [━━━━━━━━━━━━━━━━━━] 60%                         │
│                                                                │
│   💡 잠깐만요!                                                 │
│   • 배경 제거는 AI가 자동으로 처리해요                          │
│   • 5가지 배경 스타일 중 가장 어울리는 걸 추천해드려요          │
│   • 타겟 고객에 맞는 광고 문구도 자동 생성돼요                  │
│                                                                │
└────────────────────────────────────────────────────────────────┘
```

#### Flow 2-3: 결과 미리보기 (워터마크)

```
┌────────────────────────────────────────────────────────────────┐
│  [< 뒤로]                 체험 결과                   [공유하기]│
├────────────────────────────────────────────────────────────────┤
│                                                                │
│              완성된 이미지를 확인해보세요! 🎉                   │
│                                                                │
│   ┌──────────────────────────────────────────────────┐        │
│   │                                                  │        │
│   │   [Before]              [After]                 │        │
│   │                                                  │        │
│   │  평범한                고급스러운 대리석 배경     │        │
│   │  운동화 사진            + 자연스러운 조명         │        │
│   │                                                  │        │
│   │                        [PREVIEW 워터마크]        │        │
│   │                                                  │        │
│   └──────────────────────────────────────────────────┘        │
│                                                                │
│   📝 AI 생성 광고 문구                                         │
│   ┌──────────────────────────────────────────────────┐        │
│   │  "당신의 스타일을 완성하세요.                     │        │
│   │   프리미엄 운동화로 매일을 특별하게."             │        │
│   │                                                  │        │
│   │   [SNS용] [상세설명용] [스토리텔링용]            │        │
│   └──────────────────────────────────────────────────┘        │
│                                                                │
│   ┌────────────────────────────────────────────────┐          │
│   │    🎁 마음에 드시나요?                          │          │
│   │                                                │          │
│   │    무료 가입하고 워터마크 없이 다운로드          │          │
│   │    + 10 크레딧 무료 제공                        │          │
│   │                                                │          │
│   │    [무료 가입하고 다운로드하기]                 │          │
│   │                                                │          │
│   │    신용카드 필요 없음 • 30초 가입               │          │
│   └────────────────────────────────────────────────┘          │
│                                                                │
│              [다른 스타일로 다시 생성하기]                      │
│                                                                │
└────────────────────────────────────────────────────────────────┘
```

#### 사용자 액션 및 분기

```javascript
// 액션 1: 가입하기 (40% 목표)
onClick_Signup: () => {
  trackEvent('trial_signup_clicked', {
    sampleUsed: true,
    timeSpent: calculateTimeSpent()
  });

  // 가입 모달 표시
  showSignupModal({
    context: 'trial_result',
    incentive: '10 크레딧 무료'
  });
}

// 액션 2: 다시 생성하기 (재참여)
onClick_Regenerate: () => {
  trackEvent('trial_regenerate_clicked');

  showStyleSelector({
    styles: ['깔끔한 흰색', '고급 대리석', '자연광 느낌'],
    previewEnabled: true
  });
}

// 액션 3: 공유하기 (바이럴)
onClick_Share: () => {
  trackEvent('trial_share_clicked');

  showShareModal({
    platforms: ['facebook', 'twitter', 'kakaotalk'],
    message: '무료로 전문가 수준 상품 이미지 만들기!',
    incentive: '공유 시 +3 크레딧'
  });
}

// 이탈 방지: 닫기 시도 시
onBeforeUnload: () => {
  if (!userSignedUp) {
    showExitIntent({
      title: '잠깐만요!',
      message: '가입하면 이 이미지를 저장하고\n10개 크레딧을 무료로 드려요',
      cta: '5초 만에 가입하기'
    });
  }
}
```

#### 성공 기준
- ✅ 체험 완료율 > 85% (업로드 → 결과 확인)
- ✅ 가입 전환율 > 40%
- ✅ 평균 체류 시간 > 90초

---

### Stage 3: 회원가입

#### 목표
- 마찰 최소화 (30초 이내 완료)
- 이메일 또는 소셜 로그인 제공

#### Flow 3-1: 가입 모달

```
┌────────────────────────────────────────────────────────────────┐
│                         [X 닫기]                               │
│                                                                │
│              🎉 무료로 시작하세요!                              │
│                                                                │
│          가입하면 바로 받는 혜택:                               │
│          ✅ 10 크레딧 무료 (9,900원 상당)                       │
│          ✅ 워터마크 없는 고해상도 다운로드                      │
│          ✅ 무료 배경 스타일 5종                                │
│                                                                │
│   ┌────────────────────────────────────────────────┐          │
│   │  [G] Google로 3초 만에 시작하기                 │          │
│   ├────────────────────────────────────────────────┤          │
│   │  [K] 카카오로 시작하기                          │          │
│   ├────────────────────────────────────────────────┤          │
│   │  [N] 네이버로 시작하기                          │          │
│   └────────────────────────────────────────────────┘          │
│                                                                │
│                    ───── 또는 ─────                            │
│                                                                │
│   ┌────────────────────────────────────────────────┐          │
│   │  이메일 주소                                    │          │
│   │  [                                   ]         │          │
│   └────────────────────────────────────────────────┘          │
│                                                                │
│   ┌────────────────────────────────────────────────┐          │
│   │  비밀번호 (8자 이상)                            │          │
│   │  [                                   ]         │          │
│   └────────────────────────────────────────────────┘          │
│                                                                │
│   ☑ [약관] 및 [개인정보 처리방침]에 동의합니다              │
│                                                                │
│          [무료 가입하고 10 크레딧 받기]                         │
│                                                                │
│           신용카드 필요 없음 • 언제든 해지 가능                 │
│                                                                │
│              이미 계정이 있나요? [로그인]                       │
│                                                                │
└────────────────────────────────────────────────────────────────┘
```

#### Flow 3-2: 가입 완료 & 크레딧 지급

```javascript
// 가입 처리 로직
async function handleSignup(data) {
  // 1. 사용자 생성
  const user = await createUser({
    email: data.email,
    password: data.password,
    source: 'trial_conversion'
  });

  // 2. 웰컴 크레딧 지급
  await grantCredits(user.id, {
    amount: 10,
    reason: 'welcome_bonus',
    expiresAt: addDays(new Date(), 30) // 30일 후 만료
  });

  // 3. 체험했던 이미지 자동 저장
  if (trialImageExists) {
    await saveTrialImage(user.id, trialImage);
  }

  // 4. 환영 이메일 발송
  await sendWelcomeEmail(user.email, {
    credits: 10,
    nextSteps: [
      '첫 프로젝트 생성하기',
      '배경 스타일 둘러보기',
      '친구 초대하고 보너스 받기'
    ]
  });

  // 5. 온보딩 튜토리얼로 이동
  navigate('/onboarding-tutorial');
}
```

#### 성공 기준
- ✅ 가입 완료율 > 90% (모달 표시 → 가입 완료)
- ✅ 소셜 로그인 비율 > 70%
- ✅ 평균 가입 시간 < 30초

---

### Stage 4: 3단계 인터랙티브 튜토리얼

#### 목표
- 핵심 기능 3가지만 학습
- 실제 프로젝트 생성하며 습득
- 80% 이상 완료율

#### Flow 4-1: 튜토리얼 시작

```
┌────────────────────────────────────────────────────────────────┐
│                                                                │
│              🎉 환영합니다, [사용자명]님!                       │
│                                                                │
│          3단계만 따라하면 첫 이미지 완성!                       │
│          소요 시간: 약 2분                                      │
│                                                                │
│   ┌────────────────────────────────────────────────┐          │
│   │                                                │          │
│   │         [━━━━━━○━━━━━━━━━━━━━━━] 1/3          │          │
│   │                                                │          │
│   │   Step 1: 프로젝트 만들기                      │          │
│   │   Step 2: 배경 스타일 선택                     │          │
│   │   Step 3: 다운로드 하기                        │          │
│   │                                                │          │
│   └────────────────────────────────────────────────┘          │
│                                                                │
│              [시작하기]    [나중에 하기]                        │
│                                                                │
└────────────────────────────────────────────────────────────────┘
```

#### Flow 4-2: Step 1 - 프로젝트 생성

```
┌────────────────────────────────────────────────────────────────┐
│  Step 1/3                                           [건너뛰기]│
├────────────────────────────────────────────────────────────────┤
│                                                                │
│         [━━━━━━●━━━━━━━━━━━━━━━━━━] 33% 완료                 │
│                                                                │
│   ┌──────────────────────────────────────────────────┐        │
│   │  💡 첫 번째 프로젝트를 만들어볼까요?              │        │
│   │                                                  │        │
│   │  프로젝트는 관련 이미지를 모아두는 폴더예요.      │        │
│   │  예: "봄 신상품", "블랙프라이데이 세일"          │        │
│   └──────────────────────────────────────────────────┘        │
│                          ↓                                     │
│   ┌──────────────────────────────────────────────────┐        │
│   │  프로젝트 이름                                    │        │
│   │  [                                   ]           │        │
│   │                                                  │        │
│   │  예시: 운동화 광고 이미지                        │        │
│   └──────────────────────────────────────────────────┘        │
│                                                                │
│              [계속하기] ← 입력 후 활성화                        │
│                                                                │
└────────────────────────────────────────────────────────────────┘

[Tooltip 애니메이션]
여기에 프로젝트 이름을 입력해보세요! →
```

#### Flow 4-3: Step 2 - 배경 스타일 선택

```
┌────────────────────────────────────────────────────────────────┐
│  Step 2/3                                           [건너뛰기]│
├────────────────────────────────────────────────────────────────┤
│                                                                │
│         [━━━━━━━━━━━━●━━━━━━━━━━━━] 66% 완료                 │
│                                                                │
│   ┌──────────────────────────────────────────────────┐        │
│   │  🎨 어떤 배경이 어울릴까요?                       │        │
│   │                                                  │        │
│   │  상품의 느낌에 맞는 배경을 선택하면               │        │
│   │  자동으로 합성해드려요!                          │        │
│   └──────────────────────────────────────────────────┘        │
│                                                                │
│   ┌─────────┐  ┌─────────┐  ┌─────────┐  ┌─────────┐        │
│   │         │  │         │  │         │  │         │        │
│   │ 깔끔한  │  │  고급   │  │ 자연광  │  │파스텔   │        │
│   │ 흰색    │  │ 대리석  │  │ 느낌    │  │그라데   │        │
│   │         │  │         │  │         │  │이션     │        │
│   │ [선택]  │  │ [선택]  │  │ [선택]  │  │ [선택]  │        │
│   └─────────┘  └─────────┘  └─────────┘  └─────────┘        │
│                     ↑                                         │
│              [반짝이는 효과]                                   │
│                                                                │
│   💡 팁: 고급 상품은 "고급 대리석"을 추천해요!                 │
│                                                                │
│              [다음 단계로]                                     │
│                                                                │
└────────────────────────────────────────────────────────────────┘
```

#### Flow 4-4: Step 3 - 이미지 업로드 & 생성

```
┌────────────────────────────────────────────────────────────────┐
│  Step 3/3                                           [건너뛰기]│
├────────────────────────────────────────────────────────────────┤
│                                                                │
│         [━━━━━━━━━━━━━━━━━━●━━━━━━] 99% 완료                 │
│                                                                │
│   ┌──────────────────────────────────────────────────┐        │
│   │  📸 마지막 단계! 상품 사진을 올려주세요           │        │
│   │                                                  │        │
│   │  배경이 자동으로 제거되고                         │        │
│   │  선택한 스타일로 합성돼요!                        │        │
│   └──────────────────────────────────────────────────┘        │
│                                                                │
│   ┌──────────────────────────────────────────────────┐        │
│   │                                                  │        │
│   │       드래그 앤 드롭 또는 클릭하여 업로드         │        │
│   │                                                  │        │
│   │              [파일 선택하기]                      │        │
│   │                                                  │        │
│   └──────────────────────────────────────────────────┘        │
│                                                                │
│   또는 샘플 이미지로 연습하기                                  │
│   [운동화] [시계] [가방]                                       │
│                                                                │
└────────────────────────────────────────────────────────────────┘
```

#### Flow 4-5: 생성 중 (진행 상태 표시)

```
┌────────────────────────────────────────────────────────────────┐
│                   이미지 생성 중...                             │
├────────────────────────────────────────────────────────────────┤
│                                                                │
│              [Lottie: AI가 작업하는 애니메이션]                 │
│                                                                │
│   ┌──────────────────────────────────────────────────┐        │
│   │  ✅ 이미지 업로드 완료                            │        │
│   │  ✅ 배경 제거 완료 (AI 처리)                      │        │
│   │  🎨 고급 대리석 배경 합성 중...                   │        │
│   │  ✍️ AI 광고 문구 생성 대기                        │        │
│   └──────────────────────────────────────────────────┘        │
│                                                                │
│              [━━━━━━━━━━━━━━━━━━] 75%                         │
│                                                                │
│   💡 알고 계셨나요?                                            │
│   우리 AI는 1만 개 이상의 상품 이미지로 학습했어요!            │
│   평균 30초 만에 전문가 수준의 결과를 만들어드려요.            │
│                                                                │
│              예상 완료 시간: 약 15초 남음                       │
│                                                                │
└────────────────────────────────────────────────────────────────┘
```

#### Flow 4-6: 완료 & 축하 화면

```
┌────────────────────────────────────────────────────────────────┐
│                                                                │
│                  [Confetti 애니메이션] 🎉                      │
│                                                                │
│              🎉 첫 이미지 생성 완료! 🎉                         │
│                                                                │
│         [━━━━━━━━━━━━━━━━━━━━━━━━] 100% 완료                 │
│                                                                │
│   ┌──────────────────────────────────────────────────┐        │
│   │                                                  │        │
│   │   Before              After                     │        │
│   │                                                  │        │
│   │  [원본 이미지]       [완성된 이미지]             │        │
│   │                                                  │        │
│   └──────────────────────────────────────────────────┘        │
│                                                                │
│   📝 AI가 만든 광고 문구                                       │
│   ┌──────────────────────────────────────────────────┐        │
│   │  "당신의 스타일을 완성하세요.                     │        │
│   │   프리미엄 운동화로 매일을 특별하게."             │        │
│   └──────────────────────────────────────────────────┘        │
│                                                                │
│   🎁 보상: +2 크레딧 (첫 이미지 생성 완료!)                    │
│   💰 남은 크레딧: 12개                                         │
│                                                                │
│              [다운로드 하기 (1920x1080)]                       │
│                                                                │
│   ────────────── 다음은? ──────────────                       │
│                                                                │
│   ┌─────────────┐  ┌─────────────┐  ┌─────────────┐          │
│   │ 🔄 다른      │  │ ✍️ 문구      │  │ 📥 다른     │          │
│   │ 배경으로     │  │ 다시         │  │ 크기로      │          │
│   │ 재생성       │  │ 생성하기     │  │ 다운로드    │          │
│   │             │  │             │  │             │          │
│   │ [시도하기]   │  │ [시도하기]   │  │ [시도하기]   │          │
│   └─────────────┘  └─────────────┘  └─────────────┘          │
│                                                                │
│              [대시보드로 이동]                                  │
│                                                                │
└────────────────────────────────────────────────────────────────┘
```

#### 사용자 액션 및 보상

```javascript
// 튜토리얼 완료 추적
const tutorialProgress = {
  step1_projectCreated: false,
  step2_styleSelected: false,
  step3_imageGenerated: false,
  completedAt: null
};

// Step 완료 시 자동 저장
async function onStepComplete(stepNumber) {
  trackEvent('tutorial_step_completed', { step: stepNumber });

  // 진행률 저장
  await saveTutorialProgress(userId, {
    [`step${stepNumber}_completed`]: true,
    completedAt: new Date()
  });

  // 마지막 단계 완료 시 보상
  if (stepNumber === 3) {
    await grantCredits(userId, {
      amount: 2,
      reason: 'tutorial_completion_bonus'
    });

    showCelebration({
      confetti: true,
      message: '첫 이미지 생성 완료!',
      reward: '+2 크레딧'
    });
  }
}

// 건너뛰기 방지 (1회 경고)
let skipWarningShown = false;

function onSkipAttempt() {
  if (!skipWarningShown) {
    showModal({
      title: '잠깐만요!',
      message: '튜토리얼을 완료하면 +2 크레딧을 드려요.\n정말 건너뛰시겠어요?',
      buttons: [
        { text: '계속하기', primary: true },
        { text: '건너뛰기', destructive: true }
      ]
    });
    skipWarningShown = true;
  } else {
    // 2번째 시도 시 허용
    navigate('/dashboard');
  }
}
```

#### 성공 기준
- ✅ Step 1 완료율 > 95%
- ✅ Step 2 완료율 > 90%
- ✅ Step 3 완료율 > 80%
- ✅ 전체 튜토리얼 완료율 > 70%
- ✅ 평균 완료 시간 < 3분

---

### Stage 5: 지속 참여 유도 (Retention)

#### 목표
- 대시보드 친숙화
- 추가 기능 발견
- 크레딧 사용 촉진

#### Flow 5-1: 시작 가이드 체크리스트

```
┌────────────────────────────────────────────────────────────────┐
│  [프로젝트] [크레딧 충전] [설정]              [프로필 ▼]       │
├────────────────────────────────────────────────────────────────┤
│                                                                │
│  대시보드                                                       │
│                                                                │
│  ┌──────────────────────────────────────────────────┐         │
│  │  🎯 시작 가이드 (3/5 완료)                        │         │
│  │                                                  │         │
│  │  [━━━━━━━━━━━━○━━━━━━━━] 60%                    │         │
│  │                                                  │         │
│  │  ✅ 첫 프로젝트 생성              +1 크레딧       │         │
│  │  ✅ 배경 제거 이미지 생성          +2 크레딧       │         │
│  │  ✅ 광고 문구 생성                +1 크레딧       │         │
│  │  ⬜ 이미지 다운로드                +1 크레딧       │         │
│  │     [지금 하기 →]                               │         │
│  │  ⬜ 친구 초대                     +5 크레딧       │         │
│  │     [초대하기 →]                                │         │
│  │                                                  │         │
│  │  완료 시 총 +10 크레딧 획득!                      │         │
│  └──────────────────────────────────────────────────┘         │
│                                                                │
│  최근 프로젝트                                      [+ 새로 만들기]│
│  ┌────────────┬────────────┬────────────┐                     │
│  │ 운동화 광고 │ 시계 홍보   │ 가방 세일  │                     │
│  │ 3개 이미지  │ 1개 이미지  │ 0개 이미지 │                     │
│  │ 2시간 전   │ 1일 전     │ 방금 생성  │                     │
│  └────────────┴────────────┴────────────┘                     │
│                                                                │
│  💡 추천 기능                                                  │
│  ┌──────────────────────────────────────────────────┐         │
│  │  🎨 새 배경 스타일 추가됨!                        │         │
│  │  "네온 빛 배경", "빈티지 느낌" 2종 사용해보세요    │         │
│  │  [둘러보기 →]                                    │         │
│  └──────────────────────────────────────────────────┘         │
│                                                                │
└────────────────────────────────────────────────────────────────┘
```

#### Flow 5-2: 크레딧 부족 시 (업셀링)

```
┌────────────────────────────────────────────────────────────────┐
│                         [X 닫기]                               │
│                                                                │
│              ⚠️ 크레딧이 부족해요 (2/10)                        │
│                                                                │
│          1개 이미지를 더 생성하려면 크레딧이 필요해요            │
│                                                                │
│  ────────────── 크레딧 충전하기 ──────────────                │
│                                                                │
│   ┌────────────────────────────────────────────────┐          │
│   │  스타터 팩                         9,900원      │          │
│   │  50 크레딧                                     │          │
│   │  이미지 50개 생성 가능                          │          │
│   │                                                │          │
│   │  [선택하기]                                     │          │
│   └────────────────────────────────────────────────┘          │
│                                                                │
│   ┌────────────────────────────────────────────────┐          │
│   │  프로 팩 (25% 할인) ⭐ 인기                    │          │
│   │  200 크레딧                       29,900원     │          │
│   │  원래 가격: 39,600원                           │          │
│   │  이미지 200개 생성 가능                         │          │
│   │                                                │          │
│   │  [선택하기]                                     │          │
│   └────────────────────────────────────────────────┘          │
│                                                                │
│  ────────────── 또는 무료로 받기 ──────────────                │
│                                                                │
│   ┌────────────────────────────────────────────────┐          │
│   │  🎁 친구 초대하고 보너스 받기                   │          │
│   │  1명당 +3 크레딧 (최대 30 크레딧)               │          │
│   │                                                │          │
│   │  [친구 초대하기]                                │          │
│   └────────────────────────────────────────────────┘          │
│                                                                │
│   ┌────────────────────────────────────────────────┐          │
│   │  📝 후기 작성하고 +5 크레딧                     │          │
│   │  서비스 사용 후기를 남겨주세요                   │          │
│   │                                                │          │
│   │  [후기 쓰러 가기]                               │          │
│   └────────────────────────────────────────────────┘          │
│                                                                │
└────────────────────────────────────────────────────────────────┘
```

#### Flow 5-3: 신규 기능 알림 (Progressive Disclosure)

```javascript
// 사용 횟수별 기능 잠금 해제
const featureUnlocks = [
  {
    trigger: { imageGenerated: 5 },
    feature: 'A/B 테스트',
    message: '축하합니다! A/B 테스트 기능이 잠금 해제되었어요.',
    description: '같은 상품을 여러 배경으로 생성하고 비교해보세요.',
    cta: '사용해보기'
  },
  {
    trigger: { imageGenerated: 10 },
    feature: '고급 편집',
    message: '이제 고급 편집 도구를 사용할 수 있어요!',
    description: '텍스트 추가, 로고 삽입 등 세밀한 편집이 가능해요.',
    cta: '둘러보기'
  },
  {
    trigger: { imageGenerated: 20 },
    feature: 'API 액세스',
    message: 'API 액세스 권한을 획득했어요!',
    description: '자동화된 워크플로우를 구축할 수 있어요.',
    cta: 'API 문서 보기'
  }
];

// 알림 표시
function checkFeatureUnlock(userId, stats) {
  const unlockedFeatures = featureUnlocks.filter(unlock => {
    return Object.entries(unlock.trigger).every(([key, value]) => {
      return stats[key] >= value;
    });
  });

  unlockedFeatures.forEach(feature => {
    if (!hasSeenNotification(userId, feature.feature)) {
      showNotification({
        type: 'feature_unlock',
        ...feature
      });

      trackEvent('feature_unlocked', {
        feature: feature.feature,
        userStats: stats
      });
    }
  });
}
```

#### 성공 기준
- ✅ 체크리스트 완료율 > 60%
- ✅ 가입 후 7일 유지율 > 40%
- ✅ 가입 후 30일 유지율 > 20%
- ✅ 크레딧 소진 후 재충전율 > 15%

---

## 4. 화면별 와이어프레임

### 주요 화면 구조

```
온보딩 화면 구조:

1. 랜딩 페이지
   - Hero Section (Before/After)
   - Sample Gallery
   - CTA Button

2. 체험 화면
   - 이미지 업로드
   - 처리 중 애니메이션
   - 결과 미리보기 (워터마크)

3. 가입 모달
   - 소셜 로그인 (3종)
   - 이메일 가입
   - 혜택 안내

4. 튜토리얼
   - 3단계 Step-by-step
   - 진행률 표시
   - Tooltip 가이드

5. 대시보드
   - 시작 가이드 체크리스트
   - 최근 프로젝트
   - 추천 기능
```

---

## 5. 사용자 시나리오

### 시나리오 1: 스마트스토어 판매자 (이상적 경로)

```
사용자: 김지영 (30세, 스마트스토어 운영자)
목표: 운동화 상품 이미지를 고급스럽게 만들고 싶음

[00:00] 네이버에서 "상품 이미지 배경 제거" 검색
        → 랜딩 페이지 진입

[00:05] Before/After 샘플 보고 관심
        → "운동화" 샘플 클릭

[00:10] 워터마크 결과 확인
        → "이 정도면 괜찮네" (만족)

[00:20] 가입 모달 표시
        → "10 크레딧 무료라고?"

[00:30] 카카오 로그인으로 가입 (3초 소요)
        → 크레딧 10개 지급

[00:40] 튜토리얼 시작
        Step 1: "봄 신상품" 프로젝트 생성

[01:00] Step 2: "고급 대리석" 배경 선택

[01:20] Step 3: 실제 운동화 사진 업로드

[01:40] 처리 중 (재미있는 애니메이션 보며 대기)

[02:00] 완성! 🎉
        → "와, 진짜 고급스럽네!"

[02:10] 다운로드 (1920x1080)
        → 스마트스토어에 바로 등록

[02:30] "친구한테도 추천해야지" (바이럴 효과)

결과: ✅ 이상적 전환 경로 완료
```

### 시나리오 2: 회의적인 사용자 (재참여 유도)

```
사용자: 박민수 (35세, 쇼핑몰 운영자)
특징: 의심 많음, 유료 결제 거부감

[00:00] 페이스북 광고 클릭
        → 랜딩 페이지 진입

[00:03] "또 뭘 팔려고..."
        → 스크롤 내려가며 샘플 확인

[00:10] "샘플은 좋아 보이는데... 내 사진은?"
        → 샘플 클릭하지 않고 바로 업로드 시도

[00:15] 체험 화면에서 자신의 시계 사진 업로드

[00:30] 결과 확인
        → "오, 생각보다 괜찮네?"
        → 하지만 가입 안 하고 창 닫으려 함

[00:35] 닫기 시도 → Exit Intent 모달 표시
        "잠깐만요! 가입하면 이 이미지를 저장하고 10개 크레딧 드려요"

[00:40] "10개면 무료로 더 만들 수 있겠네"
        → 구글 로그인으로 가입

[00:50] 튜토리얼 건너뛰기 시도
        → "나중에 하기" 클릭

[01:00] 대시보드에서 체험 이미지 자동 저장됨
        → "오, 자동으로 저장되네?"

[01:10] 시작 가이드 체크리스트 확인
        → "다운로드하면 +1 크레딧?"
        → 다운로드 실행

[01:20] 크레딧 11개로 증가
        → "이거 계속 공짜로 쓸 수 있겠는데?"

[01:30] 친구 초대 링크 복사
        → 카카오톡으로 지인 3명에게 공유

결과: ✅ 회의적 사용자도 전환 성공
      ✅ 바이럴 효과까지 달성
```

### 시나리오 3: 이탈 후 복귀 (재활성화)

```
사용자: 최수진 (28세, 인스타그램 쇼핑몰)
특징: 가입은 했으나 1주일간 미사용

[Day 1] 가입 완료, 튜토리얼 완료
        → 크레딧 12개

[Day 3] 이메일 알림
        "수진님, 아직 12개 크레딧이 남았어요!"
        → 무시

[Day 5] 푸시 알림
        "새 배경 스타일 2종 추가됨!"
        → 클릭

[Day 5 + 00:00] 앱 재방문
                → 대시보드에서 "네온 빛 배경" 확인

[Day 5 + 00:10] 호기심에 네온 배경으로 이미지 생성
                → "와, 이거 인스타용으로 딱인데!"

[Day 5 + 00:30] 3개 연속 생성
                → 크레딧 9개 남음

[Day 6] 크레딧 부족 알림
        "5개 남았어요. 친구 초대하면 +3!"
        → 친구 2명 초대

[Day 7] 크레딧 15개로 증가
        → 활성 사용자로 전환

결과: ✅ 재활성화 성공
      ✅ 이메일/푸시 전략 효과적
```

---

## 6. 기술 구현 명세

### 6.1 Frontend 컴포넌트 구조

```typescript
// 온보딩 관련 컴포넌트 트리
src/
├── pages/
│   ├── LandingPage.tsx          // Stage 1
│   ├── TrialPage.tsx             // Stage 2
│   ├── OnboardingTutorial.tsx    // Stage 4
│   └── Dashboard.tsx             // Stage 5
│
├── components/
│   ├── onboarding/
│   │   ├── BeforeAfterSlider.tsx
│   │   ├── SampleGallery.tsx
│   │   ├── TrialUpload.tsx
│   │   ├── ProcessingAnimation.tsx
│   │   ├── ResultPreview.tsx
│   │   ├── SignupModal.tsx
│   │   ├── TutorialStep.tsx
│   │   ├── ProgressBar.tsx
│   │   ├── Checklist.tsx
│   │   └── FeatureUnlockNotification.tsx
│   │
│   └── shared/
│       ├── Tooltip.tsx
│       ├── Confetti.tsx
│       └── Modal.tsx
│
└── hooks/
    ├── useOnboardingProgress.ts
    ├── useTrialSession.ts
    └── useFeatureUnlock.ts
```

### 6.2 상태 관리

```typescript
// 온보딩 진행 상태
interface OnboardingState {
  // 사용자 정보
  user: {
    id: string | null;
    email: string | null;
    credits: number;
    isAuthenticated: boolean;
  };

  // 온보딩 진행률
  progress: {
    stage: 'landing' | 'trial' | 'signup' | 'tutorial' | 'dashboard';
    tutorialStep: 1 | 2 | 3 | null;
    completedSteps: string[];
    startedAt: Date | null;
    completedAt: Date | null;
  };

  // 체험 세션
  trial: {
    imageId: string | null;
    originalUrl: string | null;
    processedUrl: string | null;
    caption: string | null;
    watermarked: boolean;
  };

  // 체크리스트
  checklist: {
    projectCreated: boolean;
    imageGenerated: boolean;
    captionGenerated: boolean;
    imageDownloaded: boolean;
    friendInvited: boolean;
  };
}

// React Context
const OnboardingContext = createContext<OnboardingState | null>(null);

export function OnboardingProvider({ children }) {
  const [state, setState] = useState<OnboardingState>(initialState);

  // 진행률 저장 (localStorage + Backend)
  useEffect(() => {
    if (state.user.isAuthenticated) {
      saveProgressToBackend(state.progress);
    } else {
      localStorage.setItem('onboarding_progress', JSON.stringify(state.progress));
    }
  }, [state.progress]);

  return (
    <OnboardingContext.Provider value={state}>
      {children}
    </OnboardingContext.Provider>
  );
}
```

### 6.3 Analytics 이벤트

```typescript
// 온보딩 관련 이벤트 추적
const onboardingEvents = {
  // Stage 1: 랜딩
  landing_page_viewed: {
    referrer: string;
    device: 'mobile' | 'desktop';
  },

  landing_sample_clicked: {
    sampleId: string;
    timeOnPage: number;
  },

  landing_cta_clicked: {
    ctaType: 'primary' | 'secondary';
  },

  // Stage 2: 체험
  trial_started: {
    method: 'upload' | 'sample';
  },

  trial_processing_started: {
    fileSize: number;
    fileType: string;
  },

  trial_result_viewed: {
    processingTime: number;
    qualityScore: number;
  },

  trial_signup_clicked: {},

  trial_regenerate_clicked: {
    newStyle: string;
  },

  // Stage 3: 가입
  signup_modal_viewed: {
    context: 'trial_result' | 'cta_click';
  },

  signup_completed: {
    method: 'email' | 'google' | 'kakao' | 'naver';
    signupTime: number;
  },

  // Stage 4: 튜토리얼
  tutorial_started: {},

  tutorial_step_completed: {
    step: 1 | 2 | 3;
    timeSpent: number;
  },

  tutorial_skipped: {
    atStep: 1 | 2 | 3;
  },

  tutorial_completed: {
    totalTime: number;
  },

  // Stage 5: 지속 참여
  checklist_task_completed: {
    taskId: string;
    rewardEarned: number;
  },

  feature_unlocked: {
    feature: string;
    triggerCondition: object;
  },

  credits_depleted: {
    remainingCredits: number;
  },

  upsell_shown: {
    context: 'credit_low' | 'feature_locked';
  },

  purchase_completed: {
    package: string;
    amount: number;
  }
};

// 이벤트 전송 함수
function trackEvent(eventName: string, properties: object) {
  // Google Analytics
  gtag('event', eventName, properties);

  // Mixpanel
  mixpanel.track(eventName, properties);

  // Backend 로깅
  fetch('/api/v1/analytics/events', {
    method: 'POST',
    body: JSON.stringify({
      event: eventName,
      properties,
      timestamp: new Date().toISOString(),
      userId: getUserId(),
      sessionId: getSessionId()
    })
  });
}
```

### 6.4 Backend API 엔드포인트

```python
# 온보딩 관련 API

# 1. 체험 이미지 생성 (미가입)
@router.post("/trial/generate")
async def generate_trial_image(
    file: UploadFile,
    style: str = "marble",
    session_id: str = None
):
    """
    회원가입 없이 체험 이미지 생성
    - 워터마크 추가
    - 세션 ID로 임시 저장 (24시간)
    - 저해상도 (1024x1024)
    """
    # 처리 로직
    result = await process_image_trial(file, style)

    # 워터마크 추가
    watermarked = add_watermark(result, "PREVIEW")

    # 임시 저장
    await save_trial_result(session_id, watermarked, expires_in=86400)

    return {
        "preview_url": watermarked.url,
        "quality_score": 0.85,
        "session_id": session_id
    }


# 2. 체험 이미지를 실제 프로젝트로 전환 (가입 후)
@router.post("/trial/convert")
async def convert_trial_to_project(
    session_id: str,
    project_id: int,
    current_user: User = Depends(get_current_user)
):
    """
    체험했던 이미지를 실제 프로젝트로 저장
    - 워터마크 제거
    - 고해상도 재생성
    - 크레딧 차감 없음 (이미 체험함)
    """
    # 세션에서 이미지 불러오기
    trial_image = await get_trial_image(session_id)

    # 고해상도 재생성 (워터마크 없이)
    final_image = await regenerate_high_res(trial_image)

    # 프로젝트에 저장
    await save_image_to_project(project_id, final_image, current_user.id)

    return {
        "image_id": final_image.id,
        "download_url": final_image.url
    }


# 3. 온보딩 진행률 저장
@router.post("/onboarding/progress")
async def save_onboarding_progress(
    progress: OnboardingProgress,
    current_user: User = Depends(get_current_user)
):
    """
    온보딩 진행률 저장
    - 튜토리얼 단계
    - 체크리스트 완료 항목
    - 잠금 해제된 기능
    """
    await db.execute(
        """
        INSERT INTO onboarding_progress (user_id, stage, tutorial_step, checklist, completed_at)
        VALUES (:user_id, :stage, :tutorial_step, :checklist, :completed_at)
        ON CONFLICT (user_id) DO UPDATE SET
            stage = :stage,
            tutorial_step = :tutorial_step,
            checklist = :checklist,
            completed_at = :completed_at
        """,
        {
            "user_id": current_user.id,
            "stage": progress.stage,
            "tutorial_step": progress.tutorial_step,
            "checklist": progress.checklist,
            "completed_at": progress.completed_at
        }
    )

    return {"success": True}


# 4. 체크리스트 완료 시 보상
@router.post("/onboarding/checklist/{task_id}/complete")
async def complete_checklist_task(
    task_id: str,
    current_user: User = Depends(get_current_user)
):
    """
    체크리스트 태스크 완료 시 크레딧 보상
    """
    # 태스크별 보상 정의
    rewards = {
        "project_created": 1,
        "image_generated": 2,
        "caption_generated": 1,
        "image_downloaded": 1,
        "friend_invited": 5
    }

    # 이미 완료했는지 확인
    already_completed = await check_task_completed(current_user.id, task_id)
    if already_completed:
        raise HTTPException(400, "이미 완료한 태스크입니다")

    # 태스크 완료 기록
    await mark_task_completed(current_user.id, task_id)

    # 크레딧 지급
    reward_amount = rewards.get(task_id, 0)
    if reward_amount > 0:
        await grant_credits(current_user.id, reward_amount, f"checklist_{task_id}")

    return {
        "task_id": task_id,
        "reward": reward_amount,
        "total_credits": current_user.credits + reward_amount
    }


# 5. 기능 잠금 해제 확인
@router.get("/onboarding/feature-unlocks")
async def check_feature_unlocks(
    current_user: User = Depends(get_current_user)
):
    """
    사용자 통계 기반으로 잠금 해제 가능한 기능 확인
    """
    stats = await get_user_stats(current_user.id)

    unlocks = []
    if stats['images_generated'] >= 5:
        unlocks.append({
            "feature": "a_b_test",
            "title": "A/B 테스트",
            "description": "여러 배경을 비교해보세요"
        })

    if stats['images_generated'] >= 10:
        unlocks.append({
            "feature": "advanced_edit",
            "title": "고급 편집",
            "description": "텍스트와 로고를 추가할 수 있어요"
        })

    return {"unlocks": unlocks}
```

### 6.5 데이터베이스 스키마

```sql
-- 온보딩 진행률 테이블
CREATE TABLE onboarding_progress (
    user_id INTEGER PRIMARY KEY REFERENCES users(id),
    stage VARCHAR(20) NOT NULL,  -- 'landing', 'trial', 'signup', 'tutorial', 'dashboard'
    tutorial_step INTEGER,       -- 1, 2, 3
    checklist JSONB NOT NULL DEFAULT '{}',  -- {"project_created": true, ...}
    completed_at TIMESTAMP,
    created_at TIMESTAMP DEFAULT NOW(),
    updated_at TIMESTAMP DEFAULT NOW()
);

-- 체험 세션 테이블 (비회원)
CREATE TABLE trial_sessions (
    session_id VARCHAR(64) PRIMARY KEY,
    original_image_url TEXT NOT NULL,
    processed_image_url TEXT,
    style VARCHAR(50),
    caption TEXT,
    quality_score FLOAT,
    created_at TIMESTAMP DEFAULT NOW(),
    expires_at TIMESTAMP NOT NULL,
    converted_to_user_id INTEGER REFERENCES users(id)
);

-- 체크리스트 완료 기록
CREATE TABLE checklist_completions (
    id SERIAL PRIMARY KEY,
    user_id INTEGER NOT NULL REFERENCES users(id),
    task_id VARCHAR(50) NOT NULL,
    reward_amount INTEGER NOT NULL,
    completed_at TIMESTAMP DEFAULT NOW(),
    UNIQUE(user_id, task_id)
);

-- 기능 잠금 해제 기록
CREATE TABLE feature_unlocks (
    id SERIAL PRIMARY KEY,
    user_id INTEGER NOT NULL REFERENCES users(id),
    feature VARCHAR(50) NOT NULL,
    unlocked_at TIMESTAMP DEFAULT NOW(),
    seen_notification BOOLEAN DEFAULT FALSE,
    UNIQUE(user_id, feature)
);

-- 인덱스
CREATE INDEX idx_onboarding_stage ON onboarding_progress(stage);
CREATE INDEX idx_trial_expires ON trial_sessions(expires_at);
CREATE INDEX idx_checklist_user ON checklist_completions(user_id);
```

---

## 7. 측정 지표

### 7.1 퍼널 전환율

```
방문자 (100%)
    ↓ 60% (목표)
체험 시작 (60%)
    ↓ 40% (목표)
회원가입 (24%)
    ↓ 80% (목표)
튜토리얼 완료 (19.2%)
    ↓ 90% (목표)
첫 다운로드 (17.28%)

전체 전환율: 17.28% (업계 평균 5-10%의 2-3배)
```

### 7.2 시간 지표

| 지표 | 목표 | 측정 방법 |
|------|------|----------|
| **Time to First Value** | <120초 | 첫 방문 → 결과 확인 |
| **Time to Signup** | <180초 | 첫 방문 → 가입 완료 |
| **Tutorial Completion Time** | <180초 | 튜토리얼 시작 → 완료 |
| **Time to Aha Moment** | <240초 | 가입 → 첫 다운로드 |

### 7.3 참여 지표

| 지표 | 목표 | 측정 주기 |
|------|------|----------|
| **Tutorial Completion Rate** | 70% | 실시간 |
| **Checklist Completion Rate** | 60% | 가입 후 7일 |
| **D7 Retention** | 40% | 가입 후 7일 |
| **D30 Retention** | 20% | 가입 후 30일 |
| **Feature Discovery Rate** | 50% | 가입 후 14일 |

### 7.4 수익 지표

| 지표 | 목표 | 측정 주기 |
|------|------|----------|
| **Free → Paid Conversion** | 15% | 가입 후 30일 |
| **Credit Depletion Rate** | 7일 | 첫 10 크레딧 소진 |
| **Recharge Rate** | 20% | 크레딧 소진 후 7일 |
| **Referral Rate** | 10% | 가입 후 30일 |

### 7.5 대시보드 (실시간 모니터링)

```typescript
// 온보딩 대시보드 지표
interface OnboardingMetrics {
  // 실시간 퍼널
  funnel: {
    visitors: number;
    trialStarts: number;
    signups: number;
    tutorialCompletions: number;
    firstDownloads: number;

    // 전환율
    trialStartRate: number;      // 60% 목표
    signupRate: number;          // 40% 목표
    activationRate: number;      // 80% 목표
    overallConversion: number;   // 17.28% 목표
  };

  // 시간 지표
  timing: {
    avgTimeToFirstValue: number;    // 120초 목표
    avgTimeToSignup: number;         // 180초 목표
    avgTutorialTime: number;         // 180초 목표
  };

  // 참여도
  engagement: {
    tutorialCompletionRate: number;  // 70% 목표
    checklistCompletionRate: number; // 60% 목표
    d7Retention: number;             // 40% 목표
    d30Retention: number;            // 20% 목표
  };

  // 이탈 지점 분석
  dropoffs: {
    landingPage: number;       // 이탈률
    trialUpload: number;
    trialResult: number;
    signupModal: number;
    tutorialStep1: number;
    tutorialStep2: number;
    tutorialStep3: number;
  };
}
```

---

## 8. A/B 테스트 계획

### 테스트 1: CTA 문구

```yaml
변수: 랜딩 페이지 메인 CTA 버튼 문구

버전 A (컨트롤):
  - "무료로 시작하기"
  - 전환율 예상: 60%

버전 B:
  - "30초 만에 전문가 이미지 만들기"
  - 전환율 예상: 65%

버전 C:
  - "지금 무료 체험 (회원가입 없이)"
  - 전환율 예상: 68%

측정 지표:
  - Trial Start Rate
  - Time to Trial Start
  - Signup Conversion

샘플 크기: 각 1,000명
```

### 테스트 2: 가입 시점

```yaml
변수: 회원가입 요청 타이밍

버전 A (컨트롤):
  - 체험 후 바로 가입 유도
  - 가입 전환율: 40%

버전 B:
  - 다운로드 클릭 시 가입 유도
  - 가입 전환율: 50% (예상)

버전 C:
  - 두 번째 이미지 생성 시 가입 유도
  - 가입 전환율: 35% (예상, 하지만 참여도 높음)

측정 지표:
  - Signup Conversion Rate
  - Trial Engagement (재생성 횟수)
  - Overall Conversion

샘플 크기: 각 1,500명
```

### 테스트 3: 튜토리얼 형식

```yaml
변수: 튜토리얼 제공 방식

버전 A (컨트롤):
  - 3단계 강제 튜토리얼
  - 완료율: 70%

버전 B:
  - 튜토리얼 건너뛰기 허용
  - 완료율: 50% (예상, 하지만 이탈률 낮음)

버전 C:
  - 선택적 비디오 튜토리얼
  - 완료율: 40% (예상)

측정 지표:
  - Tutorial Completion Rate
  - Time to First Download
  - D7 Retention

샘플 크기: 각 2,000명
```

---

## 9. 이메일/푸시 알림 전략

### 웰컴 시리즈 (가입 후)

```yaml
Day 0 (가입 즉시):
  제목: "환영합니다! 10 크레딧이 지급되었어요 🎉"
  내용:
    - 가입 감사 인사
    - 10 크레딧 사용 방법
    - 빠른 시작 가이드 링크
  CTA: "첫 이미지 만들기"

Day 1:
  제목: "아직 12개 크레딧이 남았어요!"
  내용:
    - 크레딧 만료 안내 (30일)
    - 인기 배경 스타일 추천
    - 성공 사례 1개
  CTA: "지금 사용하기"

Day 3:
  제목: "친구 초대하고 +5 크레딧 받으세요"
  내용:
    - 리퍼럴 프로그램 소개
    - 초대 링크 제공
    - 친구도 10 크레딧 받음
  CTA: "친구 초대하기"

Day 7:
  제목: "새 기능: 네온 빛 배경 추가됨!"
  내용:
    - 신규 배경 스타일 소개
    - 샘플 이미지 첨부
    - 한정 크레딧 보너스 (+2)
  CTA: "새 배경 써보기"
```

### 재활성화 시리즈 (비활성 사용자)

```yaml
미사용 7일:
  제목: "[사용자명]님, 크레딧이 곧 만료돼요!"
  내용:
    - 남은 크레딧: X개
    - 만료일: 23일 후
    - 빠른 작업 제안
  CTA: "1분 만에 이미지 만들기"

미사용 14일:
  제목: "돌아오세요! 보너스 +3 크레딧 드려요"
  내용:
    - 재방문 인센티브
    - 신규 기능 소개
    - 성공 사례
  CTA: "보너스 받고 시작하기"

미사용 30일:
  제목: "마지막 기회! 계정이 곧 비활성화돼요"
  내용:
    - 계정 만료 경고
    - 서비스 개선 사항
    - 특별 할인 쿠폰 (30%)
  CTA: "계정 유지하기"
```

---

## 10. 성공 기준 및 최적화 계획

### Phase 1: MVP 런칭 (Week 9-10)

**목표:**
- ✅ 온보딩 플로우 5단계 구현
- ✅ 체험 전환율 > 50%
- ✅ 가입 전환율 > 30%
- ✅ 튜토리얼 완료율 > 60%

**구현 범위:**
- Before/After 샘플 3개
- 체험 기능 (워터마크)
- 간단한 3단계 튜토리얼
- 시작 가이드 체크리스트

---

### Phase 2: 최적화 (Week 11-12)

**목표:**
- ✅ A/B 테스트 3종 실행
- ✅ 전체 전환율 > 15%
- ✅ D7 Retention > 35%

**개선 사항:**
- Lottie 애니메이션 추가
- Exit Intent 모달
- 이메일 자동화
- 푸시 알림 설정

---

### Phase 3: 확장 (Post-MVP)

**목표:**
- ✅ 개인화 온보딩 (용도별)
- ✅ 동영상 튜토리얼
- ✅ 챗봇 가이드
- ✅ 다국어 지원

---

## 11. 체크리스트 (구현 전 확인사항)

### 필수 구현 (P0)
- [ ] 랜딩 페이지 Before/After 슬라이더
- [ ] 샘플 이미지 3개 준비 (운동화, 시계, 가방)
- [ ] 체험 기능 (워터마크 자동 추가)
- [ ] 가입 모달 (소셜 로그인 3종)
- [ ] 3단계 튜토리얼
- [ ] 시작 가이드 체크리스트
- [ ] 크레딧 자동 지급 (가입 시 10개)
- [ ] Analytics 이벤트 추적

### 선택 구현 (P1)
- [ ] Lottie 처리 중 애니메이션
- [ ] Exit Intent 모달
- [ ] 이메일 자동화 (웰컴 시리즈)
- [ ] 푸시 알림 설정
- [ ] A/B 테스트 인프라

### 추후 구현 (P2)
- [ ] 동영상 튜토리얼
- [ ] 챗봇 가이드
- [ ] 개인화 온보딩
- [ ] 다국어 지원

---

**작성일:** 2025-10-23
**버전:** 1.0
**작성자:** AI 이커머스 팀
**다음 검토:** 구현 완료 후
